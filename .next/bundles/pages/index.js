
          window.__NEXT_REGISTER_PAGE('/', function() {
            var comp = module.exports=webpackJsonp([4],{484:function(e,t,r){e.exports=r(485)},485:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(58),l=a(n),s=r(60),u=a(s),i=r(27),o=a(i),d=r(20),c=a(d),f=r(21),y=a(f),m=r(28),p=a(m),h=r(29),P=a(h),v=r(0),k=a(v),E=r(50),w=r(355),O=a(w),b=r(233),L=a(b),x=r(732),S=a(x),g=r(415),J=a(g),H=r(71),W=r(65),_=a(W),A=r(251),C=a(A),V=r(126),M=a(V),I=(r(249),r(886)),z=a(I),N=function(e){function t(){var e,r,a,n,s=this;(0,c.default)(this,t);for(var i=arguments.length,d=Array(i),f=0;f<i;f++)d[f]=arguments[f];return r=a=(0,p.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.state={lotteryJackPot:a.props.lotteryJackPot,numOfPlayers:a.props.numOfPlayers,accounts:[],lotteryHasPlayed:!1,winningNumber:a.props.winningNumber,numOfWinners:a.props.numOfWinners,prize:a.props.prize,finalJackPot:a.props.finalJackPot,lotteryPrice:a.props.lotteryPrice,deadline:a.props.deadline,lottery:"",numOfLotteries:a.props.numOfLotteries,timeStarted:a.props.timeStarted,lotteryAddress:a.props.lotteryAddress},a.setFactoryEventsListeners=function(e){a.LotteryDeployedEvent=e.events.LotteryDeployed({},function(){var t=(0,u.default)(l.default.mark(function t(r,n){var u,i,o,d,c,f,y,m,p,h,P,v,k,E,w;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=r){t.next=26;break}return u=n.returnValues.deployedLottery,i=(0,M.default)(u,C.default),t.next=5,i.methods.getSummary().call();case 5:return o=t.sent,t.next=8,e.methods.getLotteries().call();case 8:d=t.sent,c=d.length,f=o[0],y=o[1],m=o[2],p=o[3],h=o[4],P=o[5],v=o[6],k=o[11],E=o[7],w=o[12],f=_.default.utils.fromWei(f,"ether"),m=_.default.utils.fromWei(m,"ether"),v=_.default.utils.fromWei(v,"ether"),h=_.default.utils.fromWei(h,"ether"),a.setEventsListeners(i),a.setState({lotteryJackPot:m,numOfPlayers:p,lotteryHasPlayed:E,winningNumber:k,numOfWinners:P,prize:h,finalJackPot:v,lotteryPrice:f,deadline:y,numOfLotteries:c,timeStarted:w,lotteryAddress:u});case 26:case"end":return t.stop()}},t,s)}));return function(e,r){return t.apply(this,arguments)}}())},a.setEventsListeners=function(e){a.TicketBuyEvent=e.events.TicketBuy({},function(){var e=(0,u.default)(l.default.mark(function e(t,r){var n,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(n=r.returnValues.jackPot,n=_.default.utils.fromWei(n,"ether"),u=r.returnValues.numOfPlayers,a.setState({lotteryJackPot:n,numOfPlayers:u}));case 1:case"end":return e.stop()}},e,s)}));return function(t,r){return e.apply(this,arguments)}}()),a.LotteryHasPlayedEvent=e.events.LotteryHasPlayed({},function(){var e=(0,u.default)(l.default.mark(function e(t,r){var n,u,i,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(n=r.returnValues.numOfWinners,u=r.returnValues.winningNumber,i=r.returnValues.prize,o=r.returnValues.finalJackPot,i=_.default.utils.fromWei(i,"ether"),o=_.default.utils.fromWei(o,"ether"),a.setState({lotteryHasPlayed:!0,numOfWinners:n,winningNumber:u,prize:i,finalJackPot:o}));case 1:case"end":return e.stop()}},e,s)}));return function(t,r){return e.apply(this,arguments)}}())},a.setWindowListener=(0,u.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"==typeof window||void 0===window.web3){e.next=6;break}return e.next=3,_.default.eth.getAccounts();case 3:t=e.sent,e.next=7;break;case 6:window.addEventListener("load",(0,u.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.default.eth.getAccounts();case 2:t=e.sent,a.setIntervalFunction();case 4:case"end":return e.stop()}},e,s)})),!1);case 7:case"end":return e.stop()}},e,s)})),n=r,(0,p.default)(a,n)}return(0,P.default)(t,e),(0,y.default)(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=(0,u.default)(l.default.mark(function e(){var t,r,a,n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,M.default)(this.props.lotteryAddress,C.default),r=(0,O.default)(this.props.factoryAddress,C.default),e.next=4,t.methods.lotteryHasPlayed().call();case 4:if(a=e.sent,this.setFactoryEventsListeners(r),this.setEventsListeners(t,r),"undefined"==typeof window||void 0===window.web3){e.next=14;break}return e.next=10,_.default.eth.getAccounts();case 10:n=e.sent,this.setState({accounts:n}),e.next=15;break;case 14:this.setWindowListener();case 15:this.setState({lotteryHasPlayed:a,lottery:t});case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"componentWillUnmount",value:function(){this.TicketBuyEvent.unsubscribe(),this.LotteryHasPlayedEvent.unsubscribe(),this.LotteryDeployedEvent.unsubscribe()}},{key:"renderLotteries",value:function(){var e=this.props.lotteries.map(function(e){return{header:e,description:k.default.createElement(H.Link,{route:"/lotteries/"+e},k.default.createElement("a",null,"View Lottery")),fluid:!0}});return k.default.createElement(E.Card.Group,{items:e})}},{key:"renderAdmin",value:function(){var e=this.state,t=e.accounts,r=e.lotteryHasPlayed;return t.length>0&&this.props.owner.toString()==t[0].toString()&&r?k.default.createElement(E.Container,{style:{marginTop:"100px"}},k.default.createElement(H.Link,{route:"/lotteries/new/"+this.props.factoryAddress},k.default.createElement("a",null,k.default.createElement(E.Button,{floated:"left",content:"Deploy Lottery",icon:"add",primary:!0})))):null}},{key:"renderIndex",value:function(){return k.default.createElement(S.default,{lotteryPrice:this.state.lotteryPrice,lotteryJackPot:this.state.lotteryJackPot,deadline:this.state.deadline,numOfPlayers:this.state.numOfPlayers,lotteryHasPlayed:this.state.lotteryHasPlayed})}},{key:"renderModal",value:function(){return this.state.lotteryHasPlayed?k.default.createElement(J.default,{lotteryHasPlayed:this.state.lotteryHasPlayed,numOfWinners:this.state.numOfWinners,winningNumber:this.state.winningNumber,prize:this.state.prize,finalJackPot:this.state.finalJackPot,showMessage:!0,winnersPaid:!0}):null}},{key:"renderCardIndex",value:function(){return this.state.numOfLotteries>0?k.default.createElement(z.default,{lotteryPrice:this.state.lotteryPrice,lotteryJackPot:this.state.lotteryJackPot,deadline:this.state.deadline,numOfPlayers:this.state.numOfPlayers,lotteryHasPlayed:this.state.lotteryHasPlayed,numOfLotteries:this.state.numOfLotteries,timeStarted:this.state.timeStarted,lotteryAddress:this.state.lotteryAddress}):null}},{key:"render",value:function(){return k.default.createElement(L.default,null,k.default.createElement("div",null,this.renderIndex(),this.renderModal(),this.renderCardIndex(),this.renderAdmin()))}}],[{key:"getInitialProps",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(l.default.mark(function e(t){var r,a,n,s,u,i,o,d,c,f,y,m,p,h,P,v,k,E,w=t.res;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="0xfdb6707990732b46121a15d0284bd77282a64632",a=(0,O.default)(r,_.default),e.next=4,a.methods.owner().call();case 4:return n=e.sent,console.log(n),e.next=8,a.methods.getLotteries().call();case 8:if(s=e.sent,!((u=s.length)>0)){e.next=33;break}return i=s[u-1],o=(0,M.default)(i,_.default),e.next=15,o.methods.getSummary().call();case 15:return d=e.sent,c=d[0],f=d[1],y=d[2],m=d[3],p=d[4],h=d[5],P=d[6],v=d[11],k=d[7],E=d[12],c=_.default.utils.fromWei(c,"ether"),y=_.default.utils.fromWei(y,"ether"),P=_.default.utils.fromWei(P,"ether"),p=_.default.utils.fromWei(p,"ether"),e.abrupt("return",{lotteries:s,factoryAddress:r,lotteryPrice:c,lotteryJackPot:y,deadline:f,numOfPlayers:m,lotteryFactory:a,lotteryAddress:i,owner:n,prize:p,winningNumber:v,numOfWinners:h,finalJackPot:P,numOfLotteries:u,timeStarted:E});case 33:return w?(w.writeHead(302,{Location:"/lotteries/new/"+r}),w.end(),w.finished=!0):H.Router.push("/lotteries/new/"+r),e.abrupt("return");case 35:case"end":return e.stop()}},e,this)}));return e}()}]),t}(v.Component);t.default=N},732:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(27),l=a(n),s=r(20),u=a(s),i=r(21),o=a(i),d=r(28),c=a(d),f=r(29),y=a(f),m=r(0),p=a(m),h=r(50),P=r(65),v=(a(P),r(250)),k=a(v),E=function(e){function t(){var e,r,a,n;(0,u.default)(this,t);for(var s=arguments.length,i=Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=a=(0,c.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),a.state={lotteryPrice:a.props.lotteryPrice,lotteryJackPot:a.props.lotteryJackPot,deadline:a.props.deadline,numOfPlayers:a.props.numOfPlayers},n=r,(0,c.default)(a,n)}return(0,y.default)(t,e),(0,o.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.lotteryJackPot,r=e.numOfPlayers,a=e.deadline;this.setState({lotteryJackPot:t,numOfPlayers:r,deadline:a})}},{key:"render",value:function(){return p.default.createElement(h.Container,{style:{marginTop:"100px"}},p.default.createElement(h.Statistic.Group,{widths:"four"},p.default.createElement(h.Statistic,null,p.default.createElement(h.Statistic.Value,{text:!0},this.state.lotteryPrice," ",p.default.createElement("br",null)," ETH"),p.default.createElement(h.Statistic.Label,null,"Ticket price")),p.default.createElement(h.Statistic,null,p.default.createElement(h.Statistic.Value,{text:!0},this.state.lotteryJackPot," ",p.default.createElement("br",null),"ETH"),p.default.createElement(h.Statistic.Label,null,"Prize pool")),p.default.createElement(h.Statistic,null,p.default.createElement(h.Statistic.Value,{text:!0},p.default.createElement(h.Icon,{name:"time"})," ",p.default.createElement("br",null)," Deadline"),p.default.createElement(h.Statistic.Label,null,p.default.createElement(k.default,{precision:3,autoUpdate:!0,time:this.state.deadline,actualSeconds:!0}))),p.default.createElement(h.Statistic,null,p.default.createElement(h.Statistic.Value,{text:!0},p.default.createElement(h.Icon,{name:"user"})," ",p.default.createElement("br",null)," ",this.state.numOfPlayers),p.default.createElement(h.Statistic.Label,null,"Players"))))}}]),t}(m.Component);t.default=E},886:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(27),l=a(n),s=r(20),u=a(s),i=r(21),o=a(i),d=r(28),c=a(d),f=r(29),y=a(f),m=r(0),p=a(m),h=r(50),P=r(65),v=(a(P),r(250)),k=a(v),E=r(71),w=function(e){function t(){var e,r,a,n;(0,u.default)(this,t);for(var s=arguments.length,i=Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=a=(0,c.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(i))),a.state={lotteryPrice:a.props.lotteryPrice,lotteryJackPot:a.props.lotteryJackPot,deadline:a.props.deadline,numOfPlayers:a.props.numOfPlayers,lotteryHasPlayed:a.props.lotteryHasPlayed,numOfLotteries:a.props.numOfLotteries,timeStarted:a.props.timeStarted,address:a.props.address},n=r,(0,c.default)(a,n)}return(0,y.default)(t,e),(0,o.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({lotteryPrice:e.lotteryPrice,lotteryJackPot:e.lotteryJackPot,deadline:e.deadline,numOfPlayers:e.numOfPlayers,lotteryHasPlayed:e.lotteryHasPlayed,numOfLotteries:e.numOfLotteries,timeStarted:e.timeStarted,lotteryAddress:this.props.lotteryAddress})}},{key:"render",value:function(){var e=this.state,t=(e.lotteryPrice,e.lotteryJackPot,e.deadline,e.numOfPlayers,e.lotteryHasPlayed),r=e.numOfLotteries,a=e.timeStarted,n=e.lotteryAddress,l="/lotteries/"+n;return t&&(l="/lotteries/"+n),p.default.createElement(h.Container,{style:{marginTop:"100px",display:"flex",justifyContent:"center"}},p.default.createElement(h.Card,null,p.default.createElement(h.Image,{src:"/static/eth.png"}),p.default.createElement(h.Card.Content,null,p.default.createElement(h.Card.Header,null,"Draw number ",r),p.default.createElement(h.Card.Meta,null,p.default.createElement("span",{className:"date"},"Sarted on ",p.default.createElement(k.default,{time:a,format:"full"}))),p.default.createElement(h.Card.Description,null,"Choose 4 numbers from 1 to 99")),p.default.createElement(h.Card.Content,{extra:!0},p.default.createElement(E.Link,{route:l},p.default.createElement("a",null,p.default.createElement(h.Icon,{name:"play"}),"Play Lottery")))))}}]),t}(m.Component);t.default=w}},[484]);
            return { page: comp.default }
          })
        