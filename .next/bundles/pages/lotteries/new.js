
          window.__NEXT_REGISTER_PAGE('/lotteries/new', function() {
            var comp = module.exports=webpackJsonp([6],{892:function(e,t,a){e.exports=a(893)},893:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(58),u=n(r),l=a(60),o=n(l),s=a(27),d=n(s),c=a(20),i=n(c),f=a(21),p=n(f),h=a(28),m=n(h),y=a(29),v=n(y),g=a(0),E=n(g),w=a(50),b=a(233),L=n(b),x=a(355),S=n(x),F=a(71),M=n(F),k=a(251),_=n(k),A=a(70),D=function(e){function t(){var e,a,n,r,l=this;(0,i.default)(this,t);for(var s=arguments.length,c=Array(s),f=0;f<s;f++)c[f]=arguments[f];return a=n=(0,m.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(c))),n.state={duration:"",entranceValue:"",errorMessage:"",loading:!1,factoryAddress:n.props.url.query.factoryAddress,accounts:[],lotteryFactory:""},n.setEventsListeners=function(){var e=(0,S.default)(n.state.factoryAddress,_.default);n.LotteryDeployedEvent=e.events.LotteryDeployed({},function(){var e=(0,o.default)(u.default.mark(function e(t,a){var n;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(n=a.returnValues.deployedLottery,A.Router.pushRoute("/lotteries/"+n));case 1:case"end":return e.stop()}},e,l)}));return function(t,a){return e.apply(this,arguments)}}())},n.handleLoad=function(){var e=(0,o.default)(u.default.mark(function e(t){var a,r,o;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setEventsListeners(),a=(0,S.default)(t,M.default),e.next=4,a.methods.owner().call();case 4:return r=e.sent,e.next=7,M.default.eth.getAccounts();case 7:o=e.sent,n.setState({lotteryFactory:a,accounts:o,web3:M.default});case 9:case"end":return e.stop()}},e,l)}));return function(t){return e.apply(this,arguments)}}(),n.onSubmit=function(){var e=(0,o.default)(u.default.mark(function e(t){var a,r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.state.lotteryFactory,r=n.state.accounts,e.prev=3,n.setState({loading:!0,errorMessage:""}),e.next=7,a.methods.createNewLottery(n.state.duration,M.default.utils.toWei(n.state.entranceValue,"ether")).send({from:r[0]});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),n.setState({errorMessage:e.t0.message.split("\n")[0]});case 12:n.setState({loading:!1});case 13:case"end":return e.stop()}},e,l,[[3,9]])}));return function(t){return e.apply(this,arguments)}}(),r=a,(0,m.default)(n,r)}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this;"undefined"!=typeof window&&void 0!==window.web3?this.handleLoad(this.state.factoryAddress):window.addEventListener("load",function(){e.handleLoad(e.state.factoryAddress)},!1)}},{key:"componentWillUnmount",value:function(){this.LotteryDeployedEvent.unsubscribe()}},{key:"render",value:function(){var e=this;return E.default.createElement(L.default,null,E.default.createElement(w.Container,{style:{marginTop:"100px"}},E.default.createElement("h3",null,"New Lottery"),E.default.createElement(w.Form,{onSubmit:this.onSubmit,error:!!this.state.errorMessage},E.default.createElement(w.Form.Group,{widths:"equal"},E.default.createElement(w.Form.Field,null,E.default.createElement("label",null,"Duration"),E.default.createElement(w.Input,{label:"Seconds",labelPosition:"right",type:"number",value:this.state.duration,onChange:function(t){return e.setState({duration:t.target.value})}})),E.default.createElement(w.Form.Field,null,E.default.createElement("label",null,"Entrance Value"),E.default.createElement(w.Input,{label:"Eth",labelPosition:"right",type:"number",value:this.state.entranceValue,onChange:function(t){return e.setState({entranceValue:t.target.value})}}))),E.default.createElement(w.Message,{error:!0,header:"Ooops!",content:this.state.errorMessage}),E.default.createElement(w.Button,{loading:this.state.loading,primary:!0},"Create!"))))}}]),t}(g.Component);t.default=D}},[892]);
            return { page: comp.default }
          })
        